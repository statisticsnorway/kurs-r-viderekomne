<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>kurs-r-viderekomne - 7&nbsp; R feilsøking</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./videre.html" rel="next">
<link href="./funksjoner.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script async="" src="https://hypothes.is/embed.js"></script>


<meta property="og:title" content="kurs-r-viderekomne - 7&nbsp; R feilsøking">
<meta property="og:description" content="Det kan være frusterende å programmere når det oppstår feil. Det er ikke alltid lett å forstå feilmeldinger, særlig hvis du er ny til R.">
<meta property="og:site-name" content="kurs-r-viderekomne">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-title">R feilsøking</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">kurs-r-viderekomne</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/statisticsnorway/kurs-r-viderekomne" title="Source Code" class="sidebar-tool px-1"><i class="bi bi-github"></i></a>
    <a href="./kurs-r-viderekomne.pdf" title="Download PDF" class="sidebar-tool px-1"><i class="bi bi-file-pdf"></i></a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">R for viderekomne</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./indeksering.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Indeksering</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./datatype.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Datatyper</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./kontroll.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Kontroll</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./loops.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Løkker</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./funksjoner.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Funksjoner</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./feil.html" class="sidebar-item-text sidebar-link active"><span class="chapter-title">R feilsøking</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./videre.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Videre bruk av R</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Innhold</h2>
   
  <ul>
  <li><a href="#tips-til-feilsøking-av-kode" id="toc-tips-til-feilsøking-av-kode" class="nav-link active" data-scroll-target="#tips-til-feilsøking-av-kode">Tips til feilsøking av kode</a>
  <ul class="collapse">
  <li><a href="#generelle" id="toc-generelle" class="nav-link" data-scroll-target="#generelle">Generelle</a></li>
  <li><a href="#spesifikk" id="toc-spesifikk" class="nav-link" data-scroll-target="#spesifikk">Spesifikk</a></li>
  </ul></li>
  <li><a href="#tips-til-feilsøking-av-tekniske-problemer" id="toc-tips-til-feilsøking-av-tekniske-problemer" class="nav-link" data-scroll-target="#tips-til-feilsøking-av-tekniske-problemer">Tips til feilsøking av tekniske problemer</a>
  <ul class="collapse">
  <li><a href="#generelle-1" id="toc-generelle-1" class="nav-link" data-scroll-target="#generelle-1">Generelle</a></li>
  <li><a href="#spesifikk-1" id="toc-spesifikk-1" class="nav-link" data-scroll-target="#spesifikk-1">Spesifikk</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><span class="chapter-title">R feilsøking</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>Det kan være frusterende å programmere når det oppstår feil. Det er ikke alltid lett å forstå feilmeldinger, særlig hvis du er ny til R.</p>
<p>Feil kan klassifiseres som “kode” eller “tekniske” feil. Kodefeil oppstår når vi programmerer ting litt feil, for eksempel bruker funksjoner på en feil måte. Disse type feilene kan vi som oftest finne hjelp til på nett og rette opp selv. Tekniske feil kan oppstår hvis vi mangler andre applikasjoner eller pakker, når vi prøve å kjøre R på forskjellige platform/ sammen med andre verktøy osv. I noen tilfelle kan vi løse disse selv men andre ganger trenger vi støtte fra IT.</p>
<section id="tips-til-feilsøking-av-kode" class="level2">
<h2 class="anchored" data-anchor-id="tips-til-feilsøking-av-kode">Tips til feilsøking av kode</h2>
<section id="generelle" class="level3">
<h3 class="anchored" data-anchor-id="generelle">Generelle</h3>
<ul>
<li>Kjør kode linje-ved-linje for å isolere feilen. Sjekk også etter røde kryss på venstre side av koden som indikere feil (om du jobber i RStudio). Av og til kommer disse kryss på linjer etter feilen, for eks. om parentes ikke er lukket.</li>
<li>Kopier feilmelding du får inn til google (rens bort variabel/datasett navn osv. først).</li>
<li>Sjekk om du har NA verdier i data og om det kan være årsaken til problemer. Håndtering funksjonen du kjøre NA verdier?</li>
<li>For skriving av egne funksjoner kan det hjelpe å sette inn noen print-setninger for å se hvor det stopper opp. Eller bruk debug(), en innebygd R funksjon. Les dokumentasjon for debug().</li>
<li>Sjekk at data er formatert som forventet (tibble vs.&nbsp;data.frame).</li>
<li>Prøv å spørre Chatgpt</li>
<li>Spør om hjelp på <a href="https://web.yammer.com/main/org/ssb.no/groups/eyJfdHlwZSI6Ikdyb3VwIiwiaWQiOiI5NDgxOTUyIn0/all">yammer</a>.</li>
</ul>
</section>
<section id="spesifikk" class="level3">
<h3 class="anchored" data-anchor-id="spesifikk">Spesifikk</h3>
<table class="table">
<colgroup>
<col style="width: 35%">
<col style="width: 65%">
</colgroup>
<thead>
<tr class="header">
<th>Vanlige feilmeldinger</th>
<th>Tips</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>“argument is of length zero”</td>
<td>Se <a href="https://www.statology.org/r-argument-is-of-length-zero/">statology</a></td>
</tr>
<tr class="even">
<td>“could not find function”</td>
<td>Sjekk at du har stavet riktig (små og store bokstaver). Sjekk at pakkene er installerte og kalt inn.</td>
</tr>
<tr class="odd">
<td>“subscript out of bounds”</td>
<td>Sjekk at indeks ikke er større en vektor/datasett</td>
</tr>
<tr class="even">
<td>“no applicable method”</td>
<td>Sjekk at data er formatert som forventet (eg data.frame, tibble, data.table osv)</td>
</tr>
<tr class="odd">
<td>“cannot open file”</td>
<td>Sjekk at du har stavet filnavn riktig, og sjekk filsti. Hvor er du? Bruk <code>getwd()</code>. Naviger til foreldre mappen ved .. i sti. Bruk Sys.getenv(“ARBTAKER”) for å hente inn miljøvariabler. Du kan også skriv ut alle filene ved <code>list.files()</code></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="tips-til-feilsøking-av-tekniske-problemer" class="level2">
<h2 class="anchored" data-anchor-id="tips-til-feilsøking-av-tekniske-problemer">Tips til feilsøking av tekniske problemer</h2>
<section id="generelle-1" class="level3">
<h3 class="anchored" data-anchor-id="generelle-1">Generelle</h3>
<ul>
<li>Kopier feilmelding inn til google.</li>
<li>Send en melding til kundeservice. Prøv å beskrive problemet. Lim inn feilmelding og kode du har kjørt.</li>
<li>Hvis det er på Dapla - skriv på Slack: ‘hjelp_dapla’. Gjerne prøve å lage et lite eksempel av når problemet oppstår som kalles et <a href="https://stackoverflow.com/help/minimal-reproducible-example">Minimal reproducible example</a></li>
</ul>
</section>
<section id="spesifikk-1" class="level3">
<h3 class="anchored" data-anchor-id="spesifikk-1">Spesifikk</h3>
<table class="table">
<thead>
<tr class="header">
<th>Feilmeldinger</th>
<th>Tips</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>shiny</td>
<td><ul>
<li>Bruker du jupyter?
<ul>
<li>Bruk wrapper funksjon i +<a href="https://github.com/statisticsnorway/fellesr/blob/main/R/shiny.R">fellesr</a></li>
</ul></li>
</ul></td>
</tr>
<tr class="even">
<td>pakke installering</td>
<td><ul>
<li>Bruk renv :-)
<ul>
<li>første gang: kjør <code>renv::init()</code></li>
<li>bruk <code>renv::install('&lt;pakker&gt;')</code> for å installere</li>
<li>Ikke står på hjemmeområde men i en prosjektmappe.</li>
<li>Hvis “no package available”, sjekk i renv.lock at URL er riktig
<ul>
<li>URL skal ha “nexus.ssb.no” i navn</li>
</ul></li>
<li>For multi-mappe prosjekter - har en renv i hovedmappen
<ul>
<li>bruk <code>renv::autoload()</code> i notebookene</li>
</ul></li>
</ul></li>
</ul></td>
</tr>
<tr class="odd">
<td>Git</td>
<td><ul>
<li>Mangler git fane i RStudio?
<ul>
<li>Hvis du har en lokal RStudio på PC sjekk ut <a href="https://happygitwithr.com/rstudio-git-github.html">happygitwithr</a></li>
</ul></li>
<li>Får ikke commit?
<ul>
<li>Husk å skrive inn en melding før du trykker på commit knappen.</li>
</ul></li>
<li>Pull/push knapp er grå?
<ul>
<li>Har du noen endringer/commits til å pushe?</li>
<li>Bytte til kommandoer for å sjekke status med <code>git status</code></li>
<li>Evt. bruk kommandoer istedenfor knapper</li>
</ul></li>
</ul></td>
</tr>
</tbody>
</table>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./funksjoner.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-title">Funksjoner</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./videre.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-title">Videre bruk av R</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
      <div class="nav-footer-center">Videre programmering i R</div>
  </div>
</footer>



</body></html>